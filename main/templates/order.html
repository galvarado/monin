{% extends 'base.html' %}
{% load i18n %}
{% block main-content %}
<div class="container_omega">
    <table cellpadding="0" cellspacing="0" border="0" id="products-datatable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
{% endblock main-content %}
{% block js %}
{{ block.super }}
<script>
$(function(){
    datatable = $('#products-datatable').dataTable({
        "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
        "sPaginationType": "bootstrap",
        "bProcessing": true,
        "sAjaxSource": "/products/all",
        "bServerSide": true,
        "oLanguage": {
          "sUrl": STATIC_URL + "js/libs/dataTables.spanish.txt"
        },
        "aoColumns": [
            { "sWidth": "30%" ,"bSortable": true },
            { "sWidth": "30%" ,"bSortable": true },
            { "sWidth": "15%" ,"bSortable": false },
        ],
        // Fill the table with ajax source
        "fnServerData": function ( sSource, aoData, fnCallback ) {
            $.ajax({
            "dataType": 'json',
            "type": "POST",
            "url": sSource,
            "data": aoData,
            "success": fnCallback
            });
        }
    });
});
</script>
{% endblock js %}